<div class="container">
        <h1>Pr√©stamo</h1>
    <form>
        <mat-form-field>
            <mat-label>Identificador</mat-label>
            <input type="text" matInput placeholder="Identificador" name="id" disabled>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Juego</mat-label>
            <mat-select name="game" [(ngModel)]="loan.game" matInput placeholder="Nombre juego..." required> 
                @for (game of games; track game.id) {
                  <mat-option [value]="game">{{game.title}}</mat-option>
                }
        </mat-select>
        <mat-error>Debes elegir un juego.</mat-error>
        </mat-form-field> 

        <mat-form-field>
            <mat-label>Cliente</mat-label>
            <mat-select name="client" [(ngModel)]="loan.client" matInput placeholder="Nombre cliente..." required> 
                @for (client of clients; track client.id) {
                  <mat-option [value]="client">{{client.name}}</mat-option>
                }
        </mat-select>
        <mat-error>Debes elegir un cliente o registrarlo.</mat-error>
        </mat-form-field> 

        <mat-form-field>
            <mat-label>Fecha</mat-label>
            <input matInput [matDatepicker]="pickerLoan" [(ngModel)]="loan.loanDate" name="loanDate" required>
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="pickerLoan" ></mat-datepicker-toggle>
            <mat-datepicker #pickerLoan></mat-datepicker>
             @if (errors['loanDate']) {
                <mat-error>{{ errors['loanDate'] }}</mat-error>
            }
            
    </mat-form-field> 

    <mat-form-field>
        <mat-label>Fecha</mat-label>
        <input matInput [matDatepicker]="pickerReturn" [(ngModel)]="loan.returnDate" name="returnDate" required>
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="pickerReturn" ></mat-datepicker-toggle>
        <mat-datepicker #pickerReturn></mat-datepicker>
</mat-form-field> 
        @if (errors['returnDate']) {
            <mat-error>{{ errors['returnDate'] }}</mat-error> 
            <alert [message]="errors['returnDate']"></alert>  
        }  
        @if (errors['loanDate']) {
            <mat-error>{{ errors['loanDate'] }}</mat-error> 
            <alert [message]="errors['loanDate']"></alert>  
        }  
    </form>

    <div class="buttons"> 
        <button mat-stroked-button (click)="onClose()">Cancelar</button> 
        <button mat-flat-button color="primary" (click)="onSave()">Guardar</button> 
    </div>
</div>
